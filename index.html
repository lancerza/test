<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video.js Custom UI</title>
    <link rel="icon" href="data:;base64,=">
    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
    <style>
        body { margin: 0; padding: 0; background: #121212; color: #e0e0e0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .container { width: 95%; max-width: 1200px; margin: 20px auto; }
        
        /* --- üé® START: Custom Video.js UI --- */

        /* 1. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ò‡∏µ‡∏° */
        :root {
            --vjs-theme-color: #007bff; /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô */
        }

        .video-js {
            border-radius: 12px;
            overflow: hidden; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏∏‡∏°‡πÇ‡∏Ñ‡πâ‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            font-family: 'Segoe UI', sans-serif;
        }

        /* 2. ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà (Big Play Button) */
        .vjs-big-play-button {
            background-color: rgba(0, 0, 0, 0.5) !important;
            border-color: var(--vjs-theme-color) !important;
            border-width: 3px !important;
            width: 80px !important;
            height: 80px !important;
            border-radius: 50% !important;
            margin-top: -40px !important;
            margin-left: -40px !important;
            transition: all 0.2s ease;
        }
        .vjs-big-play-button:hover {
            background-color: rgba(0, 123, 255, 0.7) !important;
            transform: scale(1.1);
        }

        /* 3. ‡πÅ‡∏ñ‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° (Control Bar) */
        .video-js .vjs-control-bar {
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
            height: 70px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô */
        }

        /* 4. ‡πÅ‡∏ñ‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ (Progress Bar) */
        .video-js .vjs-play-progress,
        .video-js .vjs-volume-level {
            background-color: var(--vjs-theme-color) !important;
        }
        .video-js .vjs-progress-holder {
            height: 8px !important;
            border-radius: 4px;
            margin-top: 10px;
        }
        .video-js .vjs-load-progress {
            background: rgba(255, 255, 255, 0.3) !important;
            border-radius: 4px;
        }

        /* 5. ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ (Other Control Buttons) */
        .video-js .vjs-control:hover .vjs-icon-placeholder,
        .video-js .vjs-control:focus .vjs-icon-placeholder {
            color: var(--vjs-theme-color);
            text-shadow: 0 0 10px var(--vjs-theme-color);
        }

        /* 6. Loading Spinner */
        .vjs-loading-spinner {
            border-color: var(--vjs-theme-color) !important;
            border-top-color: #fff !important;
            width: 60px !important;
            height: 60px !important;
            margin-top: -30px !important;
            margin-left: -30px !important;
        }

        /* --- END: Custom Video.js UI --- */


        .channel-info { display: none; align-items: center; justify-content: center; gap: 20px; margin-top: 20px; padding: 10px; background-color: #1e1e1e; border-radius: 12px; }
        .channel-info .logo { height: 50px; margin: 0; }
        .channel-name { font-size: 24px; font-weight: bold; color: #ffffff; margin: 0; }
        .channel-buttons { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 20px; margin-top: 20px; }
        .channel-tile { background-color: #2a2a2e; border-radius: 12px; padding: 15px; display: flex; flex-direction: column; align-items: center; justify-content: space-between; text-decoration: none; cursor: pointer; transition: all 0.2s ease-in-out; border: 2px solid transparent; min-height: 120px; }
        .channel-tile:hover { transform: scale(1.05); background-color: #3c3c41; }
        .channel-tile.active { border-color: var(--vjs-theme-color); background-color: #00376e; transform: scale(1.05); box-shadow: 0 0 20px rgba(0, 123, 255, 0.4); }
        .channel-tile img { width: 100%; max-height: 60px; object-fit: contain; margin-bottom: 10px; flex-grow: 1; }
        .channel-tile-name { font-size: 14px; color: #e0e0e0; text-align: center; font-weight: 500; }
    </style>
</head>
<body>
    <div class="container">
        <video
            id="video"
            class="video-js vjs-default-skin"
            controls
            autoplay
            muted
            preload="auto"
            data-setup="{}"
        >
        </video>

        <div id="channel-info" class="channel-info">
            <img id="channel-logo" class="logo" src="" alt="Channel Logo"/>
            <h2 id="channel-name" class="channel-name"></h2>
        </div>
        <div id="channel-buttons-container" class="channel-buttons"></div>
    </div>

    <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
    <script>
    let player, channels = {}, currentChannelId = null;
    const channelButtonsContainer = document.getElementById('channel-buttons-container');
    const channelInfoContainer = document.getElementById('channel-info');
    const channelLogo = document.getElementById('channel-logo');
    const channelNameElement = document.getElementById('channel-name');

    function updateActiveButton() {
        const tiles = channelButtonsContainer.querySelectorAll('.channel-tile');
        tiles.forEach(tile => tile.classList.toggle('active', tile.dataset.channelId === currentChannelId));
    }
    function createChannelButtons() {
        channelButtonsContainer.innerHTML = '';
        for (const channelId in channels) {
            const channel = channels[channelId];
            const tile = document.createElement('a');
            tile.className = 'channel-tile';
            tile.dataset.channelId = channelId;
            tile.onclick = () => loadChannel(channelId);
            const logoImg = document.createElement('img');
            logoImg.src = channel.logo;
            logoImg.alt = channel.name;
            const nameSpan = document.createElement('span');
            nameSpan.className = 'channel-tile-name';
            nameSpan.innerText = channel.name;
            tile.appendChild(logoImg);
            tile.appendChild(nameSpan);
            channelButtonsContainer.appendChild(tile);
        }
    }
    function loadChannel(channelId) {
        if (!channels[channelId]) return;
        currentChannelId = channelId;
        const channel = channels[channelId];
        
        channelInfoContainer.style.display = 'flex';
        channelLogo.src = channel.logo;
        channelNameElement.innerText = channel.name;
        updateActiveButton();

        player.src({
            src: channel.url,
            type: 'application/x-mpegURL'
        });
    }
    async function init() {
        try {
            const response = await fetch('channels.json');
            channels = await response.json();
        } catch (e) {
            alert("Fatal Error: Could not load channel data.");
            return;
        }

        player = videojs('video');
        
        player.ready(function() {
            const promise = player.play();
            if (promise !== undefined) {
                promise.catch(error => {
                    console.warn("Autoplay was prevented.", error);
                });
            }
        });

        createChannelButtons();
        const firstChannelId = Object.keys(channels)[0];
        if (firstChannelId) {
            loadChannel(firstChannelId);
        }
    }
    document.addEventListener("DOMContentLoaded", init);
    </script>
</body>
</html>
